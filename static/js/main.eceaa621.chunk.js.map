{"version":3,"sources":["components/NavBar.js","components/InfoCard.js","components/Map.js","App.js","store.js","index.js","data/bird_observations.csv","data/bird_data.csv","images/logo.JPG","../node_modules/kepler.gl/dist/localization sync /^/.//.*$"],"names":["NavBar","selectedSpecies","conservationStatus","nativeStatus","displayString","push","Navbar","bg","expand","style","display","maxHeight","Brand","src","logo","width","height","alignItems","justifyContent","padding","fontSize","length","join","InfoCard","speciesCode","birdData","speciesName","useState","selectedBirdData","setSelectedBirdData","useEffect","console","log","Card","position","bottom","right","background","borderRadius","border","Img","variant","Body","Title","fontWeight","textAlign","Text","parseInt","Map","activeData","setActiveData","filteredData","setFilteredData","filtered","setFiltered","allSpecies","setAllSpecies","allConservation","setAllConservation","setSelectedSpecies","setConservationStatus","selectedCommonName","setSelectedCommonName","setBirdData","dispatch","useDispatch","fetchData","fetch","data","then","res","text","buildDataObject","Papa","parse","catch","err","fetchInfoData","infoData","buildBirdData","filterData","field","value","matchingSet","Set","Object","keys","key","add","dataToFilter","filteredDataRows","rows","filter","row","has","furtherFilteredData","fields","getSpeciesList","speciesSet","speciesList","speciesInfo","getConservationList","conservationSet","conservationList","conservationInfo","cols","birdDataObject","slice","localObj","i","lat","lon","day","month","year","count","dateTime","parseFloat","name","format","type","addDataToMap","datasets","info","label","id","option","readOnly","config","mapStyle","styleType","centerMap","flexDirection","window","innerWidth","mapboxApiAccessToken","process","MAPBOX_KEY","innerHeight","margin","onChange","e","target","selected","disabled","consStatus","map","cons","species","split","spec","onClick","keplerReducer","keplerGlReducer","initialState","uiState","activeSidePanel","currentModal","reducers","combineReducers","keplerGl","store","createStore","applyMiddleware","taskMiddleware","App","app","ReactDOM","render","document","getElementById","module","exports","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","resolve"],"mappings":"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","file":"static/js/main.eceaa621.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport logo from \"../images/logo.JPG\";\n\nconst NavBar = ({ selectedSpecies, conservationStatus, nativeStatus }) => {\n  const displayString = [];\n  if (nativeStatus) {\n    displayString.push(nativeStatus);\n  }\n  if (conservationStatus) {\n    displayString.push(conservationStatus);\n  }\n  if (selectedSpecies) {\n    displayString.push(selectedSpecies);\n  }\n  return (\n    <Navbar bg=\"light\" expand=\"lg\" style={{ display: \"flex\", maxHeight: 100 }}>\n      <Navbar.Brand>\n        <img\n          src={logo}\n          style={{\n            width: 100,\n            height: 100,\n          }}\n        />\n      </Navbar.Brand>\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          padding: \"0 15px\",\n          width: \"100%\",\n        }}\n      >\n        <p style={{ fontSize: \"2em\" }}>Hampton Roads Datathon 2022</p>\n        <p style={{ fontSize: \"1.5em\", padding: \"0 20px\" }}>\n          {displayString.length > 0\n            ? displayString.join(\" : \")\n            : \"Filter by species below\"}\n        </p>\n      </div>\n    </Navbar>\n  );\n};\n\nexport default NavBar;\n","import React, { useEffect, useState } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Card from \"react-bootstrap/Card\";\n\nconst InfoCard = ({ speciesCode, speciesName, birdData }) => {\n  const [selectedBirdData, setSelectedBirdData] = useState();\n\n  useEffect(() => {\n    if (birdData && speciesCode) {\n      console.log(\"here\", birdData, speciesCode);\n      setSelectedBirdData(birdData[speciesCode]);\n    }\n  }, [speciesCode, selectedBirdData]);\n\n  if (selectedBirdData) {\n    return (\n      <Card\n        style={{\n          position: \"absolute\",\n          bottom: 30,\n          right: 30,\n          background: \"white\",\n          padding: 15,\n          borderRadius: 5,\n          border: \"1px solid gray\",\n        }}\n      >\n        <Card.Img\n          variant=\"top\"\n          style={{ maxHeight: 300 }}\n          src={selectedBirdData[\"image_url\"]}\n        />\n        <Card.Body>\n          <Card.Title style={{ fontWeight: \"bold\", textAlign: \"center\" }}>\n            {selectedBirdData[\"common_name\"]}\n          </Card.Title>\n          <Card.Text style={{ fontSize: \"0.8em\" }}>\n            Conservation Status: {selectedBirdData[\"cons_status\"]}\n            <br />\n            Quantity: {selectedBirdData[\"count_2020\"]} (2020){\" \"}\n            {selectedBirdData[\"count_2021\"]} (2020)\n            <br />\n            Change: {selectedBirdData[\"perc_diff\"]}{\" \"}\n            {parseInt(selectedBirdData[\"perc_diff\"]) > 0 ? \"▲\" : \"▼\"}\n          </Card.Text>\n        </Card.Body>\n      </Card>\n    );\n  } else {\n    return <></>;\n  }\n};\n\nexport default InfoCard;\n","import React, { useEffect, useState } from \"react\";\nimport KeplerGl from \"kepler.gl\";\nimport { addDataToMap } from \"kepler.gl/actions\";\nimport data from \"../data/bird_observations.csv\";\nimport infoData from \"../data/bird_data.csv\";\nimport Papa from \"papaparse\";\nimport NavBar from \"./NavBar\";\nimport InfoCard from \"./InfoCard\";\nimport { useDispatch } from \"react-redux\";\n\nfunction Map() {\n  const [activeData, setActiveData] = useState();\n  const [filteredData, setFilteredData] = useState();\n  const [filtered, setFiltered] = useState(false);\n  const [allSpecies, setAllSpecies] = useState([]);\n  const [allConservation, setAllConservation] = useState([]);\n  const [selectedSpecies, setSelectedSpecies] = useState();\n  const [conservationStatus, setConservationStatus] = useState();\n  const [selectedCommonName, setSelectedCommonName] = useState();\n  const [birdData, setBirdData] = useState();\n  const dispatch = useDispatch();\n\n  const fetchData = async () => {\n    fetch(data)\n      .then((res) =>\n        res.text().then((res) => buildDataObject(Papa.parse(res).data))\n      )\n      .catch((err) => console.log(\"err\", err));\n  };\n\n  const fetchInfoData = async () => {\n    fetch(infoData)\n      .then((res) =>\n        res.text().then((res) => buildBirdData(Papa.parse(res).data))\n      )\n      .catch((err) => console.log(\"err\", err));\n  };\n\n  const filterData = (field, value) => {\n    const matchingSet = new Set();\n    for (let key of Object.keys(birdData)) {\n      if (birdData[key][field] === value) {\n        matchingSet.add(key);\n      }\n    }\n    const dataToFilter = filtered ? filteredData : activeData;\n    const filteredDataRows = dataToFilter.rows.filter((row) =>\n      matchingSet.has(row[3])\n    );\n    const furtherFilteredData = {\n      fields: dataToFilter.fields,\n      rows: filteredDataRows,\n    };\n\n    setFiltered(true);\n    setFilteredData(furtherFilteredData);\n  };\n\n  const selectSpecies = (e) => {\n    const species = e.target.value;\n    const speciesCode = species.split(\"#\")[0];\n    const speciesName = species.split(\"#\")[1];\n    setSelectedSpecies(speciesCode);\n    setSelectedCommonName(speciesName);\n    filterData(\"species_code\", speciesCode);\n  };\n\n  const selectConservation = (e) => {\n    const consStatus = e.target.value;\n    setConservationStatus(consStatus);\n    filterData(\"cons_status\", consStatus);\n  };\n\n  const selectNative = (e) => {\n    const native = e.target.value === \"native\";\n  };\n\n  const getSpeciesList = (data) => {\n    const speciesSet = new Set();\n    const speciesList = [];\n    const speciesIdx = 3;\n\n    for (let row of data) {\n      if (row[speciesIdx]) {\n        if (!birdData[row[speciesIdx]]) continue;\n        const speciesInfo = `${row[speciesIdx]}#${\n          birdData[row[speciesIdx]][\"common_name\"]\n        }`;\n        if (!speciesSet.has(speciesInfo)) {\n          speciesSet.add(speciesInfo);\n          speciesList.push(speciesInfo);\n        }\n      }\n    }\n\n    setAllSpecies(speciesList);\n  };\n\n  const getConservationList = (data) => {\n    const conservationSet = new Set();\n    const conservationList = [];\n    const conservationIdx = 3;\n\n    for (let row of data) {\n      if (row[conservationIdx]) {\n        if (!birdData[row[conservationIdx]]) continue;\n        const conservationInfo = birdData[row[conservationIdx]][\"cons_status\"];\n        if (!conservationSet.has(conservationInfo)) {\n          conservationSet.add(conservationInfo);\n          conservationList.push(conservationInfo);\n        }\n      }\n    }\n\n    setAllConservation(conservationList);\n  };\n\n  const buildBirdData = (data) => {\n    const cols = data[0];\n    const birdDataObject = {};\n\n    for (let row of data.slice(1)) {\n      if (row) {\n        const speciesCode = row[3];\n        const localObj = {};\n        for (let i = 0; i < cols.length; i++) {\n          localObj[cols[i]] = row[i];\n        }\n        birdDataObject[speciesCode] = localObj;\n      }\n    }\n    setBirdData(birdDataObject);\n  };\n\n  const buildDataObject = (data) => {\n    const fields = [\n      { name: \"latitude\", format: \"\", type: \"real\" },\n      { name: \"longitude\", format: \"\", type: \"real\" },\n      { name: \"observation_date\", format: \"YYYY-M-D H:m:s\", type: \"timestamp\" },\n      { name: \"species_code\", format: \"\" },\n      { name: \"count\", format: \"real\" },\n    ];\n    const rows = [];\n\n    for (let row of data.slice(1)) {\n      const lat = row[0];\n      const lon = row[1];\n      const day = row[5];\n      const month = row[4];\n      const year = row[3];\n      const speciesCode = row[2];\n      const count = row[6];\n      if (!lat || !lon || !day || !month || !year || !count || !speciesCode) {\n        continue;\n      }\n\n      const dateTime = `${year}-${month.length === 1 ? \"0\" + month : month}-${\n        day.length === 1 ? \"0\" + day : day\n      } 00:00:00`;\n\n      rows.push([\n        parseFloat(lat),\n        parseFloat(lon),\n        dateTime,\n        speciesCode,\n        parseInt(count),\n      ]);\n    }\n\n    const dataObject = {\n      fields,\n      rows,\n    };\n\n    setActiveData(dataObject);\n  };\n\n  useEffect(() => {\n    fetchData();\n    fetchInfoData();\n  }, []);\n\n  useEffect(() => {\n    if (activeData && birdData) {\n      if (filtered) {\n        getSpeciesList(filteredData.rows);\n        getConservationList(filteredData.rows);\n        dispatch(\n          addDataToMap({\n            datasets: {\n              info: {\n                label: \"Hampton Roads Birds Data\",\n                id: \"test_inat_data\",\n              },\n              data: filteredData,\n            },\n            option: {\n              readOnly: true,\n            },\n            config: {\n              mapStyle: {\n                styleType: \"light\",\n              },\n            },\n          })\n        );\n      } else {\n        getSpeciesList(activeData.rows);\n        getConservationList(activeData.rows);\n        dispatch(\n          addDataToMap({\n            datasets: {\n              info: {\n                label: \"Hampton Roads Bird Data\",\n                id: \"test_inat_data\",\n              },\n              data: activeData,\n            },\n            option: {\n              centerMap: true,\n              readOnly: true,\n            },\n            config: {\n              mapStyle: {\n                styleType: \"light\",\n              },\n            },\n          })\n        );\n      }\n    }\n  }, [dispatch, filtered, activeData, filteredData]);\n\n  return (\n    <div style={{ position: \"relative\" }}>\n      <NavBar\n        selectedSpecies={selectedCommonName}\n        conservationStatus={conservationStatus}\n      />\n      <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n        <KeplerGl\n          id=\"map\"\n          width={window.innerWidth}\n          mapboxApiAccessToken={process.env.MAPBOX_KEY}\n          height={window.innerHeight - 200}\n        />\n        <div style={{ margin: \"2em\" }}>\n          <p>Native Status</p>\n          <select onChange={selectNative}>\n            <option value=\"none\" selected={!filtered ? true : false} disabled>\n              Select an Option\n            </option>\n            <option key=\"native\" value=\"data\">\n              Native\n            </option>\n            <option key=\"nonnative\" value=\"data\">\n              Non-Native\n            </option>\n          </select>\n          <p>Conservation Status</p>\n          <select onChange={selectConservation}>\n            <option value=\"none\" selected={!filtered ? true : false} disabled>\n              Select an Option\n            </option>\n            {allConservation.map((cons) => (\n              <option\n                key={cons}\n                value={cons}\n                selected={conservationStatus === cons ? true : false}\n              >\n                {cons}\n              </option>\n            ))}\n          </select>\n          <p>Common Name</p>\n          <select onChange={selectSpecies}>\n            <option value=\"none\" selected={!filtered ? true : false}>\n              Select an Option\n            </option>\n            {allSpecies.map((spec) => (\n              <option\n                key={spec.split(\"#\")[0]}\n                selected={\n                  selectedCommonName === spec.split(\"#\")[1] ? true : false\n                }\n                value={spec}\n              >\n                {spec.split(\"#\")[1]}\n              </option>\n            ))}\n          </select>\n          <br />\n          <br />\n          <button\n            onClick={() => {\n              setFiltered(false);\n              setSelectedCommonName();\n              setSelectedSpecies();\n            }}\n          >\n            Reset\n          </button>\n        </div>\n      </div>\n      {selectedSpecies ? (\n        <InfoCard\n          speciesCode={selectedSpecies}\n          speciesName={selectedCommonName}\n          birdData={birdData}\n        />\n      ) : (\n        <></>\n      )}\n    </div>\n  );\n}\n\nexport default Map;\n","import React from \"react\";\nimport keplerGlReducer from \"kepler.gl/reducers\";\nimport { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport { taskMiddleware } from \"react-palm/tasks\";\nimport { Provider } from \"react-redux\";\nimport Map from \"./components/Map\";\n\nconst keplerReducer = keplerGlReducer.initialState({\n  uiState: {\n    activeSidePanel: null,\n    currentModal: null,\n  },\n});\n\nconst reducers = combineReducers({\n  keplerGl: keplerReducer,\n});\n\nconst store = createStore(reducers, {}, applyMiddleware(taskMiddleware));\n\nexport default function App() {\n  return (\n    <Provider store={store}>\n      <Map />\n    </Provider>\n  );\n}\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport keplerGlReducer from \"kepler.gl/reducers\";\nimport { taskMiddleware } from \"react-palm/tasks\";\n\nfunction appReducer() {\n  return {};\n}\nconst initialState = {};\n\nconst keplerReducer = keplerGlReducer.initialState({\n  uiState: {\n    activeSidePanel: null,\n    currentModal: null,\n  },\n});\n\nconst reducers = combineReducers({\n  keplerGl: keplerReducer,\n  app: appReducer,\n});\n\nexport default createStore(\n  reducers,\n  initialState,\n  applyMiddleware(taskMiddleware)\n);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","module.exports = __webpack_public_path__ + \"static/media/bird_observations.caca60dc.csv\";","module.exports = __webpack_public_path__ + \"static/media/bird_data.5ad40f67.csv\";","module.exports = __webpack_public_path__ + \"static/media/logo.04429955.JPG\";","var map = {\n\t\"./\": 47,\n\t\"./ca\": 603,\n\t\"./ca.js\": 603,\n\t\"./cn\": 604,\n\t\"./cn.js\": 604,\n\t\"./en\": 435,\n\t\"./en.js\": 435,\n\t\"./es\": 605,\n\t\"./es.js\": 605,\n\t\"./fi\": 606,\n\t\"./fi.js\": 606,\n\t\"./formatted-message\": 436,\n\t\"./formatted-message.js\": 436,\n\t\"./index\": 47,\n\t\"./index.js\": 47,\n\t\"./ja\": 607,\n\t\"./ja.js\": 607,\n\t\"./locales\": 125,\n\t\"./locales.js\": 125,\n\t\"./pt\": 608,\n\t\"./pt.js\": 608,\n\t\"./ru\": 609,\n\t\"./ru.js\": 609\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 992;"],"sourceRoot":""}